<!DOCTYPE html>
<html>

  <head>

  <!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-TM2F3S5');</script>
<!-- End Google Tag Manager -->


  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Favicon -->
  <link rel="icon" href="/favicon.png">

  <!-- Meta information -->
  <title>Creating a Simple, Fast Pattern Editor in HTML</title>
  <meta name="description"
        content="Probably the second most important element of a good Tracker, second only to the music engine of course, is a streamlined and effective pattern editor. Many ...">
  <link rel="canonical"
        href="https://wetracker.github.io/tracker,/pattern,/react/2016/11/23/patterneditor.html" />

  <!-- hack.css -->
  <link rel="stylesheet" href="https://npmcdn.com/hack/dist/hack.css" />
  
  <link rel="stylesheet" href="https://npmcdn.com/hack/dist/dark.css" />
  

  <!-- Prism.js -->
  <link rel="stylesheet" href="https://npmcdn.com/prismjs@1.5.1/themes/prism.css" />

  <!-- Custom style -->
  <link rel="stylesheet" href="/css/main.css" />

  <!-- Feed -->
  <link rel="alternate" type="application/rss+xml" title="WeTracker"
        href="/feed.xml" />

  <!-- 'jekyll-seo' plugin -->
  <!-- Begin Jekyll SEO tag v2.0.0 -->
<title>Creating a Simple, Fast Pattern Editor in HTML - WeTracker</title>
<meta property="og:title" content="Creating a Simple, Fast Pattern Editor in HTML" />
<meta name="description" content="Probably the second most important element of a good Tracker, second only to the music engine of course, is a streamlined and effective pattern editor. Many people are drawn to the Tracker approach by the interface’s ability to afford rapid and effective data entry and editing. This is made possible in no small part by the simple and effective pattern editor interface. Tuned over many years on very low end hardware (although not necessarily considered low end at the time) such as the Amiga and DOS PC, this interface is an exercise in streamlined and unobtrusive user interaction." />
<meta property="og:description" content="Probably the second most important element of a good Tracker, second only to the music engine of course, is a streamlined and effective pattern editor. Many people are drawn to the Tracker approach by the interface’s ability to afford rapid and effective data entry and editing. This is made possible in no small part by the simple and effective pattern editor interface. Tuned over many years on very low end hardware (although not necessarily considered low end at the time) such as the Amiga and DOS PC, this interface is an exercise in streamlined and unobtrusive user interaction." />
<link rel="canonical" href="https://wetracker.github.io/tracker,/pattern,/react/2016/11/23/patterneditor.html" />
<meta property="og:url" content="https://wetracker.github.io/tracker,/pattern,/react/2016/11/23/patterneditor.html" />
<meta property="og:site_name" content="WeTracker" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2016-11-23T09:18:00+00:00" />
<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "BlogPosting",
    "headline": "Creating a Simple, Fast Pattern Editor in HTML",
    "datePublished": "2016-11-23T09:18:00+00:00",
    "description": "Probably the second most important element of a good Tracker, second only to the music engine of course, is a streamlined and effective pattern editor. Many people are drawn to the Tracker approach by the interface’s ability to afford rapid and effective data entry and editing. This is made possible in no small part by the simple and effective pattern editor interface. Tuned over many years on very low end hardware (although not necessarily considered low end at the time) such as the Amiga and DOS PC, this interface is an exercise in streamlined and unobtrusive user interaction.",
    "url": "https://wetracker.github.io/tracker,/pattern,/react/2016/11/23/patterneditor.html"
  }
</script>
<!-- End Jekyll SEO tag -->
</head>



  
  <body class="hack dark">
  

    <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TM2F3S5"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->


    <a href="https://github.com/pgregory/wetracker" class="github-corner">


  <svg width="80" height="80" viewBox="0 0 250 250" style="fill:#fff; color:#151513; position: absolute; top: 0; border: 0; right: 0;"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg>


</a>

<style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>


    <div class="container">
      <div class="grid">
        <aside class="cell -3of12" role="navigation">
          <div class="t-hackcss-navigation">
  <h2 class="t-hackcss-navigation-heading">Menu</h2>

  <nav class="menu" role="menubar">
    
    
      <a class="menu-item "
        role="menuitem" href="/" title="">
        Home <div class="pull-right">»</div>
      </a>
    
      <a class="menu-item "
        role="menuitem" href="/blog" title="">
        Blog <div class="pull-right">»</div>
      </a>
    
  </nav>

</div>

        </aside>

        <main class="cell -9of12">
          <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">Creating a Simple, Fast Pattern Editor in HTML</h1>
    <p class="post-meta">
      <time datetime="2016-11-23T09:18:00+00:00"
            itemprop="datePublished"
            class="media-heading">
        Nov 23, 2016
      </time>

      
    </p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <p>Probably the second most important element of a good <em>Tracker</em>, second only to the music engine of course, is a streamlined and effective pattern editor. Many people are drawn to the Tracker approach by the interface’s ability to afford rapid and effective data entry and editing. This is made possible in no small part by the simple and effective pattern editor interface. Tuned over many years on very low end hardware (although not necessarily considered low end at the time) such as the Amiga and DOS PC, this interface is an exercise in streamlined and unobtrusive user interaction.</p>

<p>As such, I decided that it was imperative when building a web based Tracker, that this part of the interface should be equally effective. Not only that, but in the realm of browser based applications, where you have little control over the host platform, it’s important to eek as much out of the system as possible, and when playing complex audio through Javascript, you don’t want the interface being computationally unweildy and taking away precious compute cycles from the audio engine.</p>

<p>After some initial experiments in pure React, I got very concerned that the performance of the pattern editor was going to be an issue, so I decided to run some separate exploration to see what could be achieved in isolation, to see if React or other UI elements in use at the time were hampering the potential to achive the low latency, low demand interface I needed.</p>

<p>I created a simple, single page, proof of concept that exercised the basic building blocks:</p>

<ol>
  <li><em>Frozen</em> first column and header row.</li>
  <li>Fast navigation.</li>
  <li>Row based scrolling, rather than pixel based.</li>
  <li>Cycled scrolling (when it reaches the bottom, it returns to the top).</li>
  <li>Edit cursor.</li>
  <li>Ideally, all in standard HTML with CSS styling.</li>
</ol>

<p>This had to be able to render as fast as the browser could go in order to support playback at higher rates, such as 200+ beats per minute (bpm) with 16 or even 32 lines per beat (lpb).</p>

<p>The result was encouraging, click on the screenshot below to load the experiment and test it for yourself. Only basic interaction is included, mouse wheel to scroll, but you can see that even with frantic scrolling, the display keeps up, running smoothly at 60fps even on low end hardware.
<a href="/experiments/pattern_editor/index.html"><img src="/images/patterneditortest.png" style="width: 100%;" /></a></p>

<p>Next up, I need to translate this into the React framework that is being developed. I’m still seeing significant slowdown, even using this same technique, so there’s work to do, but at least the theory is proven.</p>

  </div>

</article>

        </main>
      </div>

    <footer class="t-hackcss-footer">
  <hr />

  <h3 class="footer-heading">WeTracker</h3>

  <div class="grid t-hackcss-sm-reversed-grid">

    <div class="cell -5of12">
      <div class="contact-list">
        <p>
          pgregory,
          <a href="mailto:aqsis1@gmail.com">aqsis1@gmail.com</a>
        </p>

        
          
          <span class="t-hackcss-social">
            <i class="t-hackcss-icon"><svg viewBox="0 0 16 16"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"></path></svg>
</i>
            <a href="https://github.com/pgregory">pgregory</a>
          </span>
        
          
          <span class="t-hackcss-social">
            <i class="t-hackcss-icon"><svg viewBox="0 0 16 16"><path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/></svg>
</i>
            <a href="https://twitter.com/pcgregory">pcgregory</a>
          </span>
        
      </div>
    </div>

    <div id="footer-spacer" class="cell -1of12"></div>

    <div class="cell -6of12">
      <p>A Collaborative, Online Music Creation Suite
</p>
    </div>
  </div>

</footer>


    </div>

    <!-- Prism.js -->
    <script src="https://npmcdn.com/prismjs@1.5.1/prism.js"></script>
  </body>

</html>
